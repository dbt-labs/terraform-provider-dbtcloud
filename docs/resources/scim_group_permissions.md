---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dbtcloud_scim_group_permissions Resource - dbtcloud"
subcategory: ""
description: |-
  Manage permissions for groups that are externally managed (e.g., SCIM, manually created)
---

# dbtcloud_scim_group_permissions (Resource)

Manage permissions for groups that are externally managed (e.g., SCIM, manually created). This resource ONLY manages permissions and never creates or deletes groups. It is assumed you will use this resource to only manage permissions for groups created and managed by SCIM.

⚠️  **Warning: Resource Conflicts** Do not use `dbtcloud_scim_group_permissions` alongside `dbtcloud_group` or `dbtcloud_group_partial_permissions` for the same group. This can cause unexpected behavior and permission conflicts.

**Use Case Guidelines:**
- Use `dbtcloud_group` when Terraform creates and fully manages the group
- Use `dbtcloud_group_partial_permissions` when multiple Terraform workspaces manage the same Terraform-created group  
- Use `dbtcloud_scim_group_permissions` when the group is externally managed (e.g., SCIM, manual creation) and you only want to manage permissions

**Resource Compatibility Matrix:**
| Group Source | Recommended Resource | Notes |
|--------------|---------------------|-------|
| Terraform-created | `dbtcloud_group` | Full group + permission management |
| Terraform-created (multi-workspace) | `dbtcloud_group_partial_permissions` | Partial permission management |
| SCIM-managed | `dbtcloud_scim_group_permissions` | Permission-only management |
| Manually-created | `dbtcloud_scim_group_permissions` | Permission-only management |

This resource is ideal for SCIM-managed environments where groups exist in your identity provider and are synced to dbt Cloud, but you want to manage permissions via Terraform.

The resource currently requires a Service Token with Account Admin access.

## Example Usage

```terraform
# Get existing groups (including SCIM-managed ones)
data "dbtcloud_groups" "existing" {
  state = "active"
}

# Manage permissions for a SCIM-managed group
resource "dbtcloud_scim_group_permissions" "developers" {
  group_id = [for group in data.dbtcloud_groups.existing.groups : group.id if group.name == "SCIM-Developers"][0]
  
  permissions = [
    {
      permission_set = "developer"
      project_id     = dbtcloud_project.my_project.id
      all_projects   = false
      writable_environment_categories = ["development"]
    },
    {
      permission_set = "analyst"
      project_id     = dbtcloud_project.analytics_project.id
      all_projects   = false
      writable_environment_categories = ["development", "staging"]
    }
  ]
}

# Manage permissions for multiple SCIM groups
locals {
  scim_group_map = {
    for group in data.dbtcloud_groups.existing.groups : group.name => group.id
    if group.scim_managed == true
  }
}

resource "dbtcloud_scim_group_permissions" "data_engineers" {
  group_id = local.scim_group_map["Data Engineers"]
  
  permissions = [
    {
      permission_set = "developer"
      all_projects   = true
      writable_environment_categories = ["development", "staging"]
    }
  ]
}

resource "dbtcloud_scim_group_permissions" "analysts" {
  group_id = local.scim_group_map["Business Analysts"]
  
  permissions = [
    {
      permission_set = "analyst"
      all_projects   = true
      writable_environment_categories = ["development"]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `group_id` (Number) The ID of the existing group to manage permissions for. This group must already exist.

### Optional

- `permissions` (Attributes Set) Set of permissions to apply to the group. This will replace all existing permissions for the group. (see [below for nested schema](#nestedatt--permissions))

### Read-Only

- `id` (Number) The ID of the group (same as group_id)

<a id="nestedatt--permissions"></a>
### Nested Schema for `permissions`

Required:

- `all_projects` (Boolean) Whether access should be provided for all projects or not.
- `permission_set` (String) Set of permissions to apply. The permissions allowed are the same as the ones for the `dbtcloud_group` resource.

Optional:

- `project_id` (Number) Project ID to apply this permission to for this group.
- `writable_environment_categories` (Set of String) What types of environments to apply Write permissions to. Even if Write access is restricted to some environment types, the permission set will have Read access to all environments. The values allowed are `all`, `development`, `staging`, `production` and `other`. Not setting a value is the same as selecting `all`. Not all permission sets support environment level write settings, only `analyst`, `database_admin`, `developer`, `git_admin` and `team_admin`.

## Import

Import is supported using the following syntax:

```shell
# Import using the group ID
terraform import dbtcloud_scim_group_permissions.example 12345
```
