# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html),
and is generated by [Changie](https://github.com/miniscruff/changie).


# [v1.8.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.7.0...v1.8.0)
### Changes
* Add Salesforce addapter support
* Add dbtcloud_profile resource and data sources for managing data warehouse profiles (connection, credentials, and extended attributes bindings)
* Add primary_profile_id to dbtcloud_environment resource for binding data warehouse profiles to deployment environments
### Fixes
* Update the provider to support newer longer account IDs
* Change remaining AccountID to int64
* Fix failing e2e tests
* Fix flaky global connections datasource test by using ListNestedAttribute instead of SetNestedAttribute

# [v1.7.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.6.1...v1.7.0)
### Changes
* Remove deprecated cost_insights and warehouse_cost_visibility account features

# [v1.6.1](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.6.0...v1.6.1)
### Fixes
* Only check deployment_env_auth_type when latest adapter is used

# [v1.6.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.5.2...v1.6.0)
### Changes
* Fixed timout_seconds missing field
* Added support for catalog_ingestion, explorer_account_ui, fusion_migration_permissions and cost_insights
* Added snowflake and databricks platform metadata credentials
* Added support for catalog configs
### Fixes
* Fix multiline for execute steps
* Handle resource removal from state if resource not found
* Fix permission duplication in `dbtcloud_scim_group_partial_permissions` and `dbtcloud_group_partial_permissions` resources. Permissions could duplicate exponentially when multiple resources manage the same group or during repeated create/destroy cycles. The fix prevents new duplicates and automatically cleans up existing ones.
### Behind the scenes
* Re-enable skipped tests

# [v1.5.2](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.5.1...v1.5.2)
### Changes
* Add deployment_env_auth_type to BQ connection
### Fixes
* On SL cred no found, log properly and remove from state
* Treat case where custom branch is provided via variable
* BQ adapter v1 fix for global connection

# [v1.5.1](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.5.0...v1.5.1)
### Fixes
* Fix for issue 582
* Allow rename of env without re-create
* Return if a partial group permission delete fails
* Fixed updating environment with eats removed
### Behind the scenes
* Custom branch and use custom branch must match

# [v1.5.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.4.2...v1.5.0)
### Changes
* Configurable timeout for provider client
* Added validation for Job execution steps
* Added missing permissions to permission set
### Fixes
* SSH Tunnel flag correctly set for Postgres and Redshift connections
* Lingering group deleted if permissions update fails
### Behind the scenes
* Security patch
* Fixed User Datasource test

# [v1.4.2](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.4.1...v1.4.2)
### Changes
* Added skip_credentials_validation flag to provider for skipping credential validation during initialization
* Add validation to schema names to follow the same rules as in the cloud UI
* Job is_active field enforced to be true on resource creation
### Behind the scenes
* Security update
* Null id validation

# [v1.4.1](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.4.0...v1.4.1)

# [v1.4.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.3.0...v1.4.0)
### Changes
* Add new `dbtcloud_scim_group_partial_permissions` resource for federated permission management.
This resource enables multiple Terraform workspaces to manage different permissions for the same
externally-managed group (e.g., SCIM-synced groups). Platform teams can manage base permissions
while individual teams manage project-specific permissions independently.

* Validation for athena s3 path
* Add spark credential
* Add force_node_selection for SAO
* Added new `dbtcloud_spark_credential` resource and data source for managing Apache Spark credentials.
This enables users to create and manage Apache Spark credentials separately from Databricks credentials,
providing proper support for Apache Spark connections with the correct adapter version (apache_spark_v0).

### Fixes
* Fixed panic crash when attempting to move jobs to environments with insufficient permissions. 
Added nil pointer checks in job creation, enhanced API error handling for 401/403/404 permission errors,
and improved error messages to show attempted changes with environment-specific guidance.
Fixed DELETE 404 handling to treat already-deleted resources as success.

### Behind the scenes
* Fixes to E2E tests
* Test job for issue 516
### Documentation
* Improved CredentialID description on Environment resource

# [v1.3.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.2.2...v1.3.0)
### Changes
* Added support vor bq adapter v1
### Fixes
* Resolved `dbtcloud_privatelink_endpoint` limitation to support filtering across all paginated endpoints, not just the first 100.
* Resolved `dbtcloud_privatelink_endpoints` not working with the legacy resource names.
* 
### Documentation
* Added documentation and examples for the `dbtcloud_privatelink_endpoints` data source.

# [v1.2.2](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.2.1...v1.2.2)
### Changes
* Added resource to get all privatelink endpoint urls
* Create dbtcloud_scim_group_permissions and groups data source
### Fixes
* Keep private key on update on bq sl cred
### Documentation
* Added clarification on ADO repository docs for required fields
# [v1.2.1](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.2.0...v1.2.1)
### Changes
* Added resource to get all privatelink endpoint urls
* Added ci / cd job to run tf
* Create dbtcloud_scim_group_permissions and groups data source
### Fixes
* Fixed dbt version in gh action
* Keep private key on update on bq sl cred
### Documentation
* Added clarification on ADO repository docs for required fields

# [v1.2.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.1.4...v1.2.0)
### Changes
* Added configurations for retry mechanism
* Make all dbt cloud methods use retries
### Fixes
* Removed omitempty from the bool property Active, as this creates an unexpected behavior when json marshalling is done. False values are seen as 0
* Fix postgres credential update failures due to incorrect ID usage
* Handle 400s
* Remove log that fails when project not allowed
* BQ SL credential check for private key null
### Documentation
* Doc updates

# [v1.1.4](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.1.3...v1.1.4)
### Changes
* Add support for private link endpoint on the repository resource
* Support for 'latest-fusion' and minor dbt versions
* Allow compatible and extended as dbt_version on Environment resources
### Fixes
* Resolved nil pointer dereference panic when reading project.DbtProjectSubdirectory within the project.data_source by utilizing safe string conversion
* Revert change that removed 'required replace' property on repository id to recreate the project repository
* Allow empty string as Project subdirectory
### Documentation
* Updated Notification docs to clarify User ID usage

# [v1.1.3](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.1.2...v1.1.3)
### Fixes
* Fixed Missing Required Attribute Issue Caused by SemanticLayerCredentialValidator
* Fix update on the repository resource after the resource is imported.

# [v1.1.2](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.1.1...v1.1.2)
### Changes
* Adds new resource: semantic_layer_credential_service_token_mapping
* Created Semantic Layer Credential resource for Databricks and also did a minor refactoring
* Added semantic layer credential resource for Postgres
### Fixes
* Fixes orphaned semantic layer configuration not showing up in project
* Add fix for Branch link in IDE redirects to https://github.com/None/tree/main on projects that were created with terraform
### Behind the scenes
* Allow Changie check to account for fork PRs

# [v1.1.1](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.1.0...v1.1.1)
### Changes
* Minor redshift sl credential refactoring. Code review comments solving for PR #451
### Fixes
* Fixed default parameter for Redshift leveraging of Postgres Credential
* Fixed recreation prompt for Azure AD repositories

# [v1.1.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v1.0.0...v1.1.0)
### Changes
* Implemented BigQuery for Semantic Layer Credentials
* Implemented Redshift for Semantic Layer Credentials
* Added support for Synapse Credential
### Fixes
* Obfuscate error messages from the API that would display the token
* Fixed issue with environment optional parameters being seen as null instead of being disregarded
* Fix repository create and apply to be consistent with multiple applies. Issue #433
### Behind the scenes
* Deparallelized flaky test
### Documentation
* Added changie for CHANGELOG management

# [1.0.0](https://github.com/dbt-labs/terraform-provider-dbtcloud/compare/v0.0.0...1.0.0)
